{
	"name": "Loader Events",
	"events": [
		{
			"eventType": "variable",
			"name": "pg",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 995718386200510
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 124658183956191
				}
			],
			"actions": [
				{
					"type": "script",
					"language": "javascript",
					"script": [
						"runtime.globalVars.lang_state = lang_state;"
					]
				},
				{
					"id": "set-animation-frame",
					"objectClass": "title",
					"sid": 437526969669937,
					"parameters": {
						"frame-number": "lang_state"
					}
				},
				{
					"id": "set-width",
					"objectClass": "9patch",
					"sid": 709806120812473,
					"parameters": {
						"width": "18"
					}
				},
				{
					"id": "set-scale",
					"objectClass": "title",
					"sid": 248735948822524,
					"parameters": {
						"scale": "0"
					}
				},
				{
					"id": "tween-two-properties",
					"objectClass": "title",
					"sid": 746706679874415,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"in\"",
						"property": "scale",
						"end-x": "0.72",
						"end-y": "0.72",
						"time": "0.5",
						"ease": "easeoutbounce",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no",
						"repeat-count": "1"
					}
				},
				{
					"type": "script",
					"language": "javascript",
					"script": [
						"switch(sdk_state){",
						"\tcase SDK_TRANSSION:",
						"\t\tathena_send(\"start_game\");",
						"\t\tathena_send(\"loading_start\");",
						"\tbreak;",
						"}",
						""
					]
				},
				{
					"type": "script",
					"language": "javascript",
					"script": [
						"document.getElementById(\"preload_anchor\").remove();"
					]
				}
			],
			"sid": 445717681856876
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-item-get",
					"objectClass": "LocalStorage",
					"sid": 222312583958651,
					"parameters": {
						"key": "\"rogowi223\""
					}
				}
			],
			"actions": [
				{
					"id": "load",
					"objectClass": "dictionary_save",
					"sid": 836086874945721,
					"parameters": {
						"json": "LocalStorage.ItemValue"
					}
				}
			],
			"sid": 580737649759823
		},
		{
			"eventType": "variable",
			"name": "loading_str",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 673170603853849
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 543695560306383
				}
			],
			"actions": [
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 300589067980644,
					"parameters": {
						"type": "log",
						"message": "\"progressbar:\"&loadingprogress"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 355671661580329,
					"parameters": {
						"variable": "pg",
						"value": "loadingprogress * 100"
					}
				},
				{
					"id": "set-width",
					"objectClass": "9patch",
					"sid": 228981990231362,
					"parameters": {
						"width": "loader_black_bar.Width * loadingprogress"
					}
				},
				{
					"type": "script",
					"language": "javascript",
					"script": [
						"runtime.globalVars.loading_str = language[lang].loading + \" \";",
						"",
						"console.log(language[lang].loading);",
						"console.log(runtime.globalVars.loading_str);"
					]
				},
				{
					"id": "set-text",
					"objectClass": "text_UI",
					"sid": 789617831802850,
					"parameters": {
						"text": "loading_str & round(loadingprogress * 100) & \"%\""
					}
				}
			],
			"sid": 126706743879982
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-loader-layout-complete",
					"objectClass": "System",
					"sid": 732909032697842
				}
			],
			"actions": [
				{
					"type": "script",
					"language": "javascript",
					"script": [
						"runtime.globalVars.pg = 100;",
						"",
						"switch(sdk_state){",
						"\tcase SDK_TRANSSION:",
						"\t\tathena_send(\"loading_end\");",
						"\t\twindow.h5sdk.gameLoadingCompleted()",
						"\tbreak;",
						"",
						"\tcase SDK_XIAOMI:",
						"\t\ttry {",
						"\t\t\tif (window.funmax && window.funmax.loadReady) {",
						"\t\t\t\twindow.funmax.loadReady()",
						"\t\t\t}",
						"\t\t} catch (e) {",
						"\t\t\tconsole.error(e)",
						"\t\t}",
						"",
						"  \t\tconsole.log('load_ready')",
						"",
						"\t\twindow.gameanalytics.GameAnalytics.addProgressionEvent(window.gameanalytics.EGAProgressionStatus.Complete, \"loading_end\", runtime.globalVars.kills);",
						"",
						"\tbreak;",
						"",
						"}",
						"await runtime.callFunction(\"getStorage\", \"coins\");",
						"await runtime.callFunction(\"getStorage\", \"permanentUpgrades\");"
					]
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 428981841112199,
					"parameters": {
						"seconds": "0.5",
						"use-timescale": true
					}
				},
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 861370367257285,
					"parameters": {
						"layout": "Menu"
					}
				}
			],
			"sid": 455911592634375
		}
	],
	"sid": 978286068498708
}